/* STORY MODE */

/* Mixins */

/* Structure */

.story{
  position:relative;
  height: 100vh;
  top:0;
  left:0;
  overflow:hidden;
  padding:0px;
  background: #ffffff;
  background: -moz-radial-gradient(center, ellipse cover,  #ffffff 0%, #e5e5e5 100%);
  background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,#ffffff), color-stop(100%,#e5e5e5));
  background: -webkit-radial-gradient(center, ellipse cover,  #ffffff 0%,#e5e5e5 100%);
  background: -o-radial-gradient(center, ellipse cover,  #ffffff 0%,#e5e5e5 100%);
  background: -ms-radial-gradient(center, ellipse cover,  #ffffff 0%,#e5e5e5 100%);
  background: radial-gradient(ellipse at center,  #ffffff 0%,#e5e5e5 100%);
  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#e5e5e5',GradientType=1 );
  white-space:nowrap;
}
.story #pages-wrap{
  position:relative;
  top:0;
  left:0;
  width:100%;
  height:100%;
  -webkit-transition:all 500ms cubic-bezier(0.81, 0.11, 0.11, 0.91);
}
.story section{
  position:relative;
  display:inline-block;
  width:100%;
  height:100%;
  vertical-align:top;
  white-space:normal;
}

/* Universal story elements */

.story .caption-wrap{
  width: 100vw;
  max-width: 600px;
  background-color:rgba(255,255,255,0.9);
  margin: 0 auto;
  z-index:2;
}

@media (max-width: 48em) {
  .flatmap {
    max-height: 70vh;
    height: 70vh;
  }

  .story-comparison + .caption-wrap {
    margin-top: 0.5em;
  }
  .story .story-comparison .flatmap{
    width:50%;
    float: left;
  }
  .story .story-comparison .flatmap-a{
    left:0;
    border-right:2px solid #fff;
  }
  .story .story-comparison .flatmap-b{
  }

  .story .page-arrow {
    width: 50%;
    float: left;
  }

  .caption-close {
    display: none;
  }
}

@media (min-width: 48em) {
  .story .caption-wrap {
    position:absolute;
    bottom:0px;
    overflow-x:hidden;
    overflow-y:scroll;
  }
}

.page.page-video .caption-wrap {
  /* max-height: 650px !important; */
}
.story .caption, .story aside {
  padding:25px 25px;
}
.story aside {
  color: #999;
  font-size: 90%;
  max-width: 65%;
  padding-top: 0;
  margin-top: -15px;
}
.story aside + aside {
  float: right;
  text-align: right;
  margin-top: -25px;
  max-width: 65%;
}
section.tall .caption-wrap aside {
  max-width: 100% !important;
}
section.tall .caption-wrap .caption-close {
  bottom: 0;
  padding-bottom:1em;
  margin-bottom:0;
}
.story .flatmap .hint {
  z-index: -1;
}
.story aside p, .attachment-big aside p {
  margin: 0;
}
.story .caption-close-wrap{
  width:100%;
  /* height:30px; */
  margin-top:10px;
  margin-bottom:10px;
}
.story .caption-close{
  position:absolute;
  right:10px;
  color:#222;
  line-height:0.9em;
  cursor:pointer;
  font-size: 1.7em;
}
.story .caption-open{
  position:absolute;
  width:100px;
  height:30px;
  left:462px;
  bottom:-1px;
  border:1px solid #ddd;
  background-color:#fff;
  color:#222;
  z-index:3;
  text-align:center;
  padding-top:8px;
  text-transform:uppercase;
  font-weight:bold;
  font-size:0.9em;
  cursor:pointer;
}
.story #story-header{
  position:absolute;
  width:100%;
  height:50px;
  top:0;
  left:0;
  background-color:#000;
  z-index:1001;
}
.story #story-header #story-back{
  position:absolute;
  height:39px;
  width:38px;
  line-height:25px;
  left:0px;
  top:11px;
  display:block;
  text-align:center;
  color:#fff;
  border:0px;
  -webkit-box-shadow:none;
  cursor:pointer;
}
.story #story-header #story-menu-button{
  position:absolute;
  height:50px;
  width:48px;
  line-height:25px;
  right:0px;
  top:11px;
  display:block;
  text-align:center;
  color:#fff;
  border:0px;
  cursor:pointer;
}
.story #story-header h1{
  text-align:center;
  font-size:1.5em;
  color:#fff;
  font-weight:500;
  height:50px;
  line-height:50px;
  margin:0px;
  position:absolute;
  width:100%;
}
.story #story-menu{
  position:absolute;
  top:-200px;
  height:200px;
  width:100%;
  background-color:#000;
  color:#fff;
  padding:10px 25px;
  text-align:left;
  transition:top 400ms cubic-bezier(0.81, 0.11, 0.11, 0.91);
  z-index:1000;
}
.story #story-menu.selected{
  top:50px;
}
.story #story-menu .story-menu-label{
  text-transform:uppercase;
  font-weight:bold;
  font-size:0.9em;
  padding-bottom:10px;
  display:block;
}
.story #story-menu .items{
  position:relative;
  left:1024px;
  transition:left 400ms cubic-bezier(0.81, 0.11, 0.11, 0.91);
  transition-delay:175ms;
}
.story #story-menu .item{
  display:inline-block;
  margin-right:25px;
}
.story #story-menu.selected .items{
  left:0px;
}
.story #story-menu .flatmap{
  width:100px;
  height:100px;
  display:block;
  border:1px solid #fff;
  cursor:pointer;
}
.story #story-menu .title{
  color:#fff;
  margin-top:5px;
  display:block;
}
.story .page-arrow {
  background-color:#000;
  color:#fff;
  border:1px solid #333;
}
@media screen and (min-width: 48em) {
  .story .page-arrow{
    position:absolute;
    width:60px;
    height:80px;
    top:50%;
    margin-top:-40px;
    padding:5px 0px;
    cursor:pointer;
    z-index:10;
  }
}
.story #page-prev{
  left:0;
  margin-left:-1px;
}
.story #page-next{
  right:0;
  margin-right:-1px;
}
.story .page-arrow .page-arrow-text{
  font-size:0.7em;
  text-transform:uppercase;
  color:#fff;
  display:block;
  width:60px;
  padding:10px 15px 0px 15px;
  white-space:normal;
  text-align:center;
  height:40px;
}
.story .page-arrow .page-arrow-icon{
  text-align:center;
  display:block;
  width:100%;
  color:#fff;

}
.story .page-arrow .page-arrow-icon:hover{
  color:#fff;
}
.story .page-arrow.return{
  background-color:#fff;
  color:#222;
  border:1px solid #ddd;
}
.story .page-arrow.return .page-arrow-icon{
  color:#222;
}
.story .page-arrow.return .page-arrow-icon:hover{
  color:#222;
}
.story .page-arrow.return .page-arrow-text{
  color:#222;
  padding-top:15px;
}
/*
.story #story-pages{
  float:right;
  font-size:1.1em;
  color:#fff;
  font-weight:500;
  height:40px;
  line-height:50px;
  margin:0px;
  padding-right:5px;
}
.story #story-pages span{
  width:26px;
  height:26px;
  text-align:center;
  display:inline-block;
  cursor:pointer;
  border:1px solid #fff;
  border-radius:1000px;
  margin:0px 5px;
  line-height:23px;
}
.story #story-pages span.selected,
.story #story-pages span:hover{
  background-color:#fff;
  color:#000;
}
*/

/* Image Story */

.story .story-image .flatmap {
  width: 100%;
  height: 100vh;
  left:0;
  top:50px;
}
@media screen and (min-width: 48em) {
  .story .story-image .flatmap {
    position: absolute;
  }
  .story .story-image.tall .flatmap {
    width: 60%;
  }
  .story .story-image.full .flatmap {
    width: 100%;
  }
  .story .story-image.wide + .caption-wrap, section.page-comparison .caption-wrap, .story section.wide .caption-wrap{
    max-height: 313px;
  }
  .story .story-image.tall + .caption-wrap, .story section.tall .caption-wrap {
    width: 40%;
    /* right: 0; isn't working */
    left: 0;
    margin-left: 60%;
    overflow-x: hidden;
    padding-right: 9%;
    max-height: 718px;
  }

  /* Side by Side Story */

  .story .story-comparison .flatmap{
    position:absolute;
    width:50%;
    height:718px;
    top:50px;
  }
  .story .story-comparison .flatmap-a{
    left:0;
    border-right:2px solid #fff;
  }
  .story .story-comparison .flatmap-b{
    right:0;
    margin-left:3px;
  }
}

/* Video Story - absolute center video */

.story video {
  display:block;
  max-width:600px;
  width: 100vw;
  height:340px;
  margin:0px auto 15px auto;
}

.story video.playing {
}

.story iframe {
  width: 100%;
  height: 565px;
  border: none;
}
.story iframe #resetbutton {
  float: right;
  margin-right: 4em;
}
.story .caption-wrap {
  /* max-height: 700px !important; */
}

.twocol{
  -moz-column-count: 2;
    -moz-column-gap: 16px;
    -webkit-column-count: 2;
    -webkit-column-gap: 16px;
    column-count: 2;
  column-gap: 16px;
}

.s-text div{
  margin-top:20px;
}

.s-text .credits a{
  display:block;
  text-transform: uppercase;
  font-size:0.85em;
  color:#fff;
  font-weight:700;
  text-align:center;
  background-color: #222;
  width:100px;
  float:right;
  padding:1em;
}

#toggleTombstone {
  color: #222;
  border-radius: 1em;
  font-size: 1.5em;
  float: right;
  margin: -.1em 0.1em 0 0;
}
#toggleTombstone.open {
  color: #eee;
  background: #222;
  font-weight: 700;
}
aside.tombstone {
  opacity: 0;
  transition: all 0.2s ease-in;
  -webkit-transition: all 0.2s ease-in;
  -moz-transition: all 0.2s ease-in;
  position: relative;
  z-index: -1;
  max-height: 0;
}
aside.tombstone.extended {
  margin: -1em 0 1em 0;
  max-height: 100em;
  opacity: 1;
  z-index: 0;
}

.fitts-law {
  padding: 3em;
  margin: -3em;
}