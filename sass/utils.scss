/**
 * Media queries, vendor prefixes, and base styles for frequently used elements.
 */

$smallPortrait:'screen and (orientation:portrait) and (max-width:640px)';
$small:'screen and (min-width:641px), screen and (orientation:landscape)';
$medium:'screen and (min-width:1024px)';

@mixin box-sizing( $params ) {
  -webkit-box-sizing:$params;
  -moz-box-sizing:$params;
  box-sizing:$params;
}
@mixin box-shadow( $params... ) {
  -webkit-box-shadow:$params;
  -moz-box-shadow:$params;
  box-shadow:$params;
}
@mixin transition( $params... ) {
  -webkit-transition: $params;
  -moz-transition: $params;
  -o-transition: $params;
}
@mixin transform( $params ) {
  -webkit-transform:$params;
  -moz-transform:$params;
  -o-transform:$params;
  -ms-transform:$params;
  transform:$params;
}
@mixin transform-origin( $params ) {
  -webkit-transform-origin:$params;
  -moz-transform-origin:$params;
  -o-transform-origin:$params;
  -ms-transform-origin:$params;
  transform-origin:$params;
}
@mixin no-select {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
@mixin label{
  color:#222;
  font-size:0.8em;
  font-family:'Source Sans Pro', sans-serif;
  text-align:center;
  text-transform:uppercase;
}
@mixin meta{
  color:#888;
  font-size:0.9em;
  font-family:'Source Sans Pro', sans-serif;
  font-style:italic;
}
@mixin icon( $content ){
  font-style:normal;
  cursor:pointer;
  -webkit-tap-highlight-color: transparent;

  &:before{
    position:absolute;
    display:block;
    top:50%;
    width:100%;
    margin-top:-12px;
    text-align:center;
    line-height:100%;
    font-family:'griot';
    font-size:24px;
    content: $content;
  }
}
.transparentized{
  @include transition( opacity 100ms ease );
  opacity: 0 !important;
}
%drawer{
  @include transition( opacity 400ms 200ms ease );
  @include box-shadow( 0 -5px 10px rgba(0,0,0,0.13) );
  position:absolute;
  top:100%;
  right:0;
  bottom:0;
  width:100%;
  max-width:24rem;
  padding:0 15px;
  z-index:2;
  background-color:#ededed;

  @media #{$small} {
    @include box-shadow( 5px 0 10px rgba(0,0,0,0.13) );
    top:0;
    right:auto;
    left:-25rem;
  }

  @media #{$medium} {
    top:0;
    right:auto;
    bottom:0;
    left:0;
  }
}
%handle{
  // Base styles
  @include icon( '\e817' );
  display:block;
  width:70px;
  height:70px;
  background-color:rgba(237,237,237,0.4);
  &:before{
    font-size:30px;
    margin-top:-15px;
  }

  // Size and positioning
  position:fixed;
  margin:0;
  bottom:0;
  right:0;
  z-index:1;

  @media #{$smallPortrait}{
    &.attached{
      position:absolute;
      top:0;
      bottom:auto;
      background-color:transparent;
    }
  }

  @media #{$small} {
    &:before{
      @include transform( rotate( 90deg ) );
    }

    // Size and positioning
    // On landscape and medium screens, button is attached regardless of class
    position:absolute;
    top:auto;
    right:-70px;
    bottom:0;
    left:auto;
  }

  @media #{$medium}{
    display:none;
  }
}